<html>
<head>
  <title>Home</title>

  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/myMeta.css" media="all" />
  <script src="../js/CETEI.js"></script>
</head>
<body>

  <div class="nav-bar">
    <ul class="nav-options">
      <li class="nav-item"><a href="../index.html">Home</a></li>
      <li class="nav-item"><a href="lab1.html">Lab 1</a></li>
      <li class="nav-item"><a href="lab2.html">Lab 2</a></li>
      <li class="nav-item"><a href="lab3.html">Lab 3</a></li>
      <li class="nav-item"><a href="lab4.html">Lab 4</a></li>
      <li class="nav-item"><a href="lab5.html">Lab 5</a></li>
      <li class="nav-item active"><a href="lab7.html">Lab 7</a></li>
      <li class="nav-item"><a href="lab8.html">Lab 8</a></li>
      <li class="nav-item"><a href="lab9.html">Lab 9</a></li>
      <li class="nav-item"><a href="lab10.html">Lab 10</a></li>
    </ul>
  </div>
  
  <div class="title">
    <h1>Lab 7</h1>	
  </div>

  <div class="main-page">
    <h2>Task 1: Updating MEI File Metadata</h2>
    <p> 
      
      <b>Justification:</b><br>
      I have added both the genres of the piece and a creative commons license to the mei file.
      <br>
      The genres added include: 
      <ul>
        <li>Gothic</li>
        <li>Sacred Chant</li>
        <li>Dark</li>
        <li>Theatrical</li>
      </ul>
      These genres have been selected based off of similar music and from information online about my piece. I couldn't find an exact genre classification online 
      so chose to base the genres in realation to similar music. 
      <br><br>
      For the copyright license, I worked throught the checklist on Creative Commons and answered the questions as if I owned this piece of music considering the best way to make 
      the music accessible while not allowing it to be used for commercial purposes. This included making selections such as if I wanted attribution for the work. I selected yes for this, 
      if anyone is using the work I would like attribution for it. I also selected non-commercial and then sharealike to allow for people to adapt the work but share it under the same license. 
      This means that someone is allowed to adapt and share the work but the adaptation cannot be used for commercial purposes. 


      The final license is - Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International.

    </p>
    <br>

    <h2>Task 2: Rendering MEI File with Metadata</h2>
    <p>

      If there are any issues with the rendering of the MEI file below, please click this link to view - <a href="../metaRAW.html">Rendered MEI file with metadata</a>.

    </p>

  </div>


  <div id="MEImeta"></div>
  <div id="app" class="panel" style="border: 1px solid light gray; min-height: 800px;">Verovio is loading...</div>
  <script type="module">
        import 'https://www.verovio.org/javascript/app/verovio-app.js';
        
         const app = new Verovio.App(document.getElementById("app"), {});

    // Load a file (MEI or MusicXML)
    fetch("data/ballad_of_the_witches_road_week7.mei")
        .then(function(response) {
            return response.text();
        })
        .then(function(text) {
            app.loadData(text);
        });
    </script>
  <script>
    // Get, parse, and show TEI data
    var CETEIcean = new CETEI()
    CETEIcean.getHTML5("data/ballad_of_the_witches_road_week7.mei", function(data) {
      document.getElementById("TEI").appendChild(data)
    })
    // Get, parse and show MEI header data
    var CETEI4MEI = new CETEI()
    CETEI4MEI.addBehaviors({
      namespaces: {
        mei: "http://www.music-encoding.org/ns/mei"
      }
    })
    CETEI4MEI.getHTML5("data/ballad_of_the_witches_road_week7.mei", function(data) {
      // get header
      var meiHead = data.querySelector('mei-meiHead')
      document.getElementById("MEImeta").appendChild(meiHead)
    })
    var vrvToolkit = new verovio.toolkit()
    vrvToolkit.setOptions(options = {
        pageHeight: 500,
        pageWidth: 1000,
        ignoreLayout: 1,
        border: 20,
        scale: 50,
        adjustPageHeight: true
    })
    fetch("data/ballad_of_the_witches_road_week7.mei").then(function( response ) {
        response.text().then(function( data ) {
          var svg = vrvToolkit.renderData(data, {})
          document.getElementById('MEI').innerHTML = svg
        })
    })
  </script>

</body>
</html>
